yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
sudo yabai --load-sa

# disable macOS menu bar
yabai -m config external_bar off:40:0
yabai -m config menubar_opacity 0.0

# cmd + lmb/rmb for move/resize
yabai -m config mouse_modifier cmd
yabai -m config mouse_action1 move
yabai -m config mouse_action2 resize

# focus follows mouse, auto raise = bring to front
yabai -m config focus_follows_mouse autoraise
yabai -m config mouse_follows_focus off

# show shadows only for floating windows
yabai -m config window_shadow float

# render all unfocused windows with 90% opacity, unless it's not floating
yabai -m config window_opacity on
yabai -m config active_window_opacity 1.0
yabai -m config normal_window_opacity 1.0

# window stuff
yabai -m config window_placement second_child
yabai -m config layout bsp

# create 10 spaces in total
current_spaces=$(yabai -m query --spaces | jq -r '. | length')
if [ $current_spaces -lt 10 ]; then
  for i in $(seq $current_spaces 9); do
    yabai -m space --create
  done
fi

